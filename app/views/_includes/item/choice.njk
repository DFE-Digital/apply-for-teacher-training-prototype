{% set status = item.status or application.status or "Submitted" %}
{% set statusHtml %}
  {{ govukTag({
    classes: "app-tag " + status | statusClass,
    text: status | capitalize
  }) }}
{% endset %}
{{ govukSummaryList({
  rows: [{
    key: {
      text: "Course"
    },
    value: {
      html: "<a href=\"https://find-postgraduate-teacher-training.education.gov.uk/course/" + provider.code + "/" + course.code + "\">" + course.name_and_code + "</a>"
    },
    actions: {
      items: [{
        href: "#",
        href: applicationPath + "/choices/" + item.id + "/pick?referrer=" + referrer,
        text: "Change",
        visuallyHiddenText: "course"
      }]
    } if canAmend
  }, {
    key: {
      text: "Location"
    },
    value: {
      html: item.locationName + "<br>" + item.locationAddress
    },
    actions: {
      items: [{
        href: applicationPath + "/choices/" + item.id + "/location?referrer=" + referrer,
        text: "Change",
        visuallyHiddenText: "course location"
      }]
    } if canAmend and not item.singleLocationCourse
  }, {
    key: {
      text: "Type"
    },
    value: {
      html: item.type
    } if item.type
  }, {
    key: {
      text: "Course length"
    },
    value: {
      html: item.length
    } if item.length
  }, {
    key: {
      text: "Date course starts"
    },
    value: {
      html: item.starts | date("MMMM yyyy")
    } if item.starts
  }, {
    key: {
      text: "Status"
    },
    value: {
      html: statusHtml
    }
  } if showChoiceStatus, {
    key: {
      text: "Reason for rejection"
    },
    value: {
      html: item.reason
    }
  } if item.reason]
}) }}
