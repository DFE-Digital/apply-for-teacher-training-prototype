{% from "_components/summary-card/macro.njk" import appSummaryCard %}

{% set completed = data.completed.contactInformation %}

{{ appSuggestion({
  id: "contactInformation",
  title: "Contact information are not marked as completed",
  warning: true if errorList,
  actions: {
    items: [{
      text: "Complete contact information",
      href: applicationPath + "/contact-information/review"
    }]
  }
}) if not completed and showIncomplete }}

{% set addressHtml %}
  {{ data.address.line1 }}<br>
  {{ data.address.line2 }}<br>
  {{ data.address.town }}<br>
  {{ data.address.county }}<br>
  {{ data.address.postalCode }}
  {% if not data.livesInUk == 'yes' %}<br>{{ data.address.country }}{% endif %}

{% endset %}

{{ appSummaryCard({
  classes: "govuk-!-margin-bottom-6",
  html: govukSummaryList({
    rows: [{
      key: {
        text: "Phone number"
      },
      value: {
        text: data.phoneNumber
      },
      actions: {
        items: [{
          href: applicationPath + "/contact-information?referrer=" + referrer,
          text: "Change",
          visuallyHiddenText: "phone number"
        }]
      } if canAmend
    }, {
      key: {
        text: "Address"
      },
      value: {
        html: addressHtml
      },
      actions: {
        items: [{
          href: applicationPath + "/contact-information/where-do-you-live?referrer=" + referrer,
          text: "Change",
          visuallyHiddenText: "address"
        }]
      } if canAmend
    }]
  })
}) }}
