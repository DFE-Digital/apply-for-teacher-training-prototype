{% set completed = data.completed.personalInformation %}
{% set entered = data.firstName %}
{% from "_components/summary-card/macro.njk" import appSummaryCard %}

{% if not entered %}
  {{ appSuggestion({
    id: "personalInformation",
    title: "Personal information not entered",
    warning: true if errorList,
    actions: {
      items: [{
        text: "Enter your personal information",
        href: "/application/personal-information"
      }]
    }
  }) }}
{% else %}

  {{ govukSummaryList({
    rows: [{
      key: {
        text: "Name"
      },
      value: {
        text: data.firstName + " " + data.lastName
      },
      actions: {
        items: [{
          href: "/application/personal-information?referrer=" + referrer,
          text: "Change",
          visuallyHiddenText: "name"
        }]
      }
    }, {
        key: {
          text: "Date of birth"
        },
        value: {
          text: data.dateOfBirth.day + "/" + data.dateOfBirth.month + "/" + data.dateOfBirth.year
        },
        actions: {
          items: [{
            href: "/application/personal-information?referrer=" + referrer,
            text: "Change",
            visuallyHiddenText: "date of birth"
          }]
        } if canAmend
      }, {
        key: {
          text: "Nationality"
        },
        value: {
          html: data.nationalities | join(", ")
        },
        actions: {
          items: [{
            href: "/application/personal-information/nationality?referrer=" + referrer,
            text: "Change",
            visuallyHiddenText: "nationality"
          }]
        } if canAmend
      },
      {
        key: {
          text: "Do you already have the right to work or study in the UK?"
        },
        value: {
          text: data.immigration
        },
        actions: {
          items: [{
            href: "/application/personal-information/immigration?referrer=" + referrer,
            text: "Change",
            visuallyHiddenText: "if you have the right to work or study in the UK"
          }]
        } if canAmend
      } if data.immigration, {
        key: {
          text: "Immigration status"
        },
        value: {
          html: immigrationStatusText
        },
        actions: {
          items: [{
            href: "/application/personal-information/immigration-status?referrer=" + referrer,
            text: "Change",
            visuallyHiddenText: "immigration status"
          }]
        } if canAmend
      } if data.immigration == 'Yes'
    ]
  }) }}

{% endif %}
