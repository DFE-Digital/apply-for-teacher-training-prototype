{% extends "_form-question.njk" %}

{% set referee = applicationValue(["references", id]) %}
{% set parent = referee.name %}
{% set title = "Choose a referee" %}
{% set allowsFeedback = true %}
{% set formaction = referrer or "/application/" + applicationId + "/references/" + id + "/name/" %}

{% block pageNavigation %}
  {% if referrer %}
    {{ govukBackLink({
      href: referrer
    }) }}
  {% else %}
    {{ govukBackLink({
      href: "/application/" + applicationId + "/references/review"
    }) }}
  {% endif %}
{% endblock %}

{% block primary %}

  {{ govukRadios({
    fieldset: {
      legend: {
        text: "What type of reference do you want to add?",
        classes: "govuk-fieldset__legend--l",
        isPageHeading: true
      }
    },
    items: [{
      text: "Academic, such as a university tutor",
      hint: {
        text: "You need at least one academic reference if you graduated in the last 5 years or you do not  have a grade for your degree yet."
      }
    }, {
      text: "Professional, such as a manager",
      hint: {
        text: "You need at least one professional reference if youâ€™re applying for a salaried course."
      }
    }, {
      text: "Someone you know through experience working in a school",
      hint: {
        text: ""
      }
    }, {
      divider: "or"
    }, {
      text: "Character, such as a mentor or someone you know from volunteering",
      hint: {
        text: "You can use one character reference if you also have a professional or academic reference."
      }
    }]
  } | decorateApplicationAttributes(["references", id, "type"])) }}

  {{ govukButton({
    text: "Save changes" if referrer else "Save and continue"
  }) }}
{% endblock %}
