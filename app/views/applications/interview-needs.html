{% extends "layouts/main.html" %}

{% set primaryNavId = "applications" %}
{% set title = "Having an interview with " + data.applications[id].providerName %}

{% block beforeContent %}
  {{ govukBackLink({
    href: "/applications/" + id + "/personal-statement",
    text: "Back"
  }) }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">{{ title }}</h1>
      <p class="govuk-body">Once you submit your application, {{ data.applications[id].providerName }} might ask you to have an interview with them.</p>
      <p class="govuk-body">Training providers do not usually have much flexibility when setting a date and time for an interview unless you need adjustments due to a <a href="/application/additional-support">health condition or disability</a>.</p>
      <p class="govuk-body">If you need flexibility for other reasons, tell us here. For example, you have commitments like caring responsibilities or employment.</p>
      <p class="govuk-body">Contact {{ data.applications[id].providerName }} if youâ€™re concerned about the interview process.</p>

      <form action="/applications/{{ id }}/additional-information" method="post">
        {% set interviewHtml %}
          {{ govukCharacterCount({
            name: "applications[" + id + "][interviewNeedsDetail]",
            id: "interview-needs-detail",
            value: data.applications[id].interviewNeedsDetail,
            label: {
              text: "Tell us what flexibility you need",
              classes: "govuk-label--s"
            },
            maxlength: 150,
            threshold: 75
          }) }}
        {% endset %}

        {{ govukRadios({
          name: "applications[" + id + "][interviewNeeds]",
          value: data.applications[id].interviewNeeds,
          fieldset: {
            legend: {
              classes: "govuk-fieldset__legend--m",
              text: "Do you need flexibility with your interview time and date?"
            }
          },
          items: [{
            text: "Yes",
            value: "yes",
            conditional: {
              html: interviewHtml
            }
          }, {
            text: "No",
            value: "no"
          }]
        }) }}

        {{ govukButton({
          text: "Save and continue"
        }) }}
      </form>
    </div>
  </div>
{% endblock %}
