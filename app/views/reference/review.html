{% extends "_form.html" %}

{% set formaction = "/reference/confirmation" %}
{% set candidate_name = "Jane Doe" %}
{% set title = "Check your reference for " + candidate_name %}
{% set hasAccountLinks = false %}

{% block primary %}
  {% if data.reference.relationship.correct == "Yes" %}
    {% set relationshipValue %}
      You confirmed their description of how you know them.
    {% endset %}
  {% else %}
    {% set relationshipValue = "You said this is how you know them: <br><br>" + data.reference.relationship.correction %}
  {% endif %}

  {% if data.reference.safeguarding.concern == "Yes" %}
    {% set safeguardingValue = data.reference.safeguarding.reason %}
  {% else %}
    {% set safeguardingValue = "You do not know of any reason why they should not work with children." %}
  {% endif %}

  {{ govukSummaryList({
    rows: [{
      key: {
        text: "How you know them"
      },
      value: {
        text: relationshipValue | safe
      },
      actions: {
        items: [{
          href: "/reference/relationship?referrer=/reference/review",
          text: "Change",
          visuallyHiddenText: "relationship to candidate"
        }]
      }
    }, {
      key: {
        text: "Working with children" | safe
      },
      value: {
        text: safeguardingValue
      },
      actions: {
        items: [{
          href: "/reference/safeguarding?referrer=/reference/review",
          text: "Change",
          visuallyHiddenText: "safeguarding answer"
        }]
      }
    }, {
      key: {
        text: "Reference"
      },
      value: {
        html: (data.reference.comments or "Not entered")
      },
      actions: {
        items: [{
          href: "/reference/comments?referrer=/reference/review",
          text: "Change",
          visuallyHiddenText: "reference"
        }]
      }
    }]
  }) }}

  {{ govukButton({
    text: "Submit reference"
  }) }}
{% endblock %}
