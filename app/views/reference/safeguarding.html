{% extends "_form.html" %}

{% set formaction = referrer or "/reference/comments" %}
{% set candidate_name = "Jane Doe" %}
{% set title = "Keeping children safe" %}
{% set hasAccountLinks = false %}

{% block pageNavigation %}
  {% if referrer %}
    {{ govukBackLink({
      href: referrer
    }) }}
  {% else %}
    {{ govukBackLink({
      href: "/reference/relationship"
    }) }}
  {% endif %}
{% endblock %}

{% block primary %}

  <p class="govuk-body">If you worked with {{ candidate_name }} in a setting that involved children...

    If you know of any substantiated allegation involving {{ candidate_name }} and children you should share it.</p>

  {% set safeguardingConcernHtml %}
    {{ govukCharacterCount({
      id: "reference-safeguarding-reason",
      name: "reference[safeguarding][reason]",
      value: data.reference.safeguarding.reason,
      label: {
        text: "What are your concerns about " + candidate_name + " working with children?"
      },
      hint: {
        text: "Give facts, not your opinion."
      },
      maxwords: 200,
      threshold: 95,
      rows: 5
    }) }}
  {% endset %}

  {{ govukRadios({
    fieldset: {
      legend: {
        text: "Do you have anything to share?",
        classes: "govuk-fieldset__legend--m"
      }
    },
    idPrefix: "reference-safeguarding-concern",
    name: "reference[safeguarding][concern]",
    items: [{
      value: "Yes",
      text: "Yes",
      checked: checked("reference.safeguarding.concern", "Yes"),
      conditional: {
        html: safeguardingConcernHtml
      }
    },{
      value: "No",
      text: "No",
      checked: checked("reference.safeguarding.concern", "No")
    }]
  }) }}

  {{ govukButton({
    text: "Save and continue"
  }) }}
{% endblock %}
